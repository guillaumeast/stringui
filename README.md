# 🎨 **`stringui` v1.0.0** – minimal Unicode‑ & ANSI‑aware string CLI

[![C++](https://img.shields.io/badge/language-C%2B%2B17-blue)](https://en.cppreference.com/)
[![Build](https://img.shields.io/badge/build-clang%2B%2B-orange)](https://clang.llvm.org/)
[![Terminal CLI](https://img.shields.io/badge/type-CLI-lightgrey)](https://en.wikipedia.org/wiki/Command-line_interface)
[![Platform: Unix](https://img.shields.io/badge/platform-Unix-darkgreen)](https://en.wikipedia.org/wiki/Unix)
[![Status: v1.0.0](https://img.shields.io/badge/status-v1.0.0-brightgreen)](https://github.com/guillaumeast/stringui/releases/tag/v1.0.0)

> **`stringui`** is a terminal‑friendly, Unicode‑ & ANSI‑aware **string manipulation CLI** — tiny like `cut` or `sed`, but powered by modern **C++17**, escape‑safe, and fully **UTF‑8‑capable** (incl. wide & combined emojis).

---

## ✨ Features

- **UTF‑8 aware** (via [`libunistring`](https://www.gnu.org/software/libunistring/))
- **ANSI / escape‑safe** cleaning & width detection
- **Visual width** handling (CJK, wide & combined emojis)
- **Line height** calculation
- **Substring occurrence counting**
- **Split** & **repeat** helpers
- **POSIX pipe & shell friendly**
- Fast, portable & single‑binary – *no runtime dependencies*

---

## 🚀 Available commands

| Command                                    | Description                                             |
|--------------------------------------------|---------------------------------------------------------|
| `stringui width  <string>`                 | Display *visual* width (columns) of `string`           |
| `stringui height <string>`                 | Display number of *lines* (`\n` count + 1)            |
| `stringui clean  <string>`                 | Strip all ANSI *escape sequences*                      |
| `stringui split  <string> <sep>`           | Split `string` on `sep`, output one part per line      |
| `stringui repeat <count> <string> [sep]`   | Repeat `string` `count` times with optional `sep`      |
| `stringui count  <value> in <string>`      | Count occurrences of `value` inside `string`           |

> *Display width* is measured in columns for fixed‑width terminal fonts.

---

## 🛠️ Build & Install

```bash
# compile library + CLI
make

# install library + headers + pkg‑config
sudo make install-lib

# install CLI binary in ~/.local/bin
make install-cli

# everything in one shot
sudo make install-all
```

Ensure `~/.local/bin` is in your `$PATH` to run `stringui` everywhere.

---

## 🧪 Examples

<details>
<summary>Width / Height</summary>

```bash
red="\033[31m"; reset="\033[0m"

stringui width  "1🛑4"                # 4
stringui height "a\nb\nc"           # 3
stringui width  "${red}1${reset}🛑4"  # 4 (escapes ignored)
```
</details>

<details>
<summary>Clean</summary>

```bash
stringui clean "${red}Red${reset}"    # "Red"
```
</details>

<details>
<summary>Split</summary>

```bash
stringui split "a-b-c" "-"            # "a\nb\nc"
```
</details>

<details>
<summary>Repeat</summary>

```bash
stringui repeat 3 "foo" "-"           # "foo-foo-foo"
```
</details>

<details>
<summary>Count</summary>

```bash
stringui count "-" in "a-b-c-d-"      # 4
```
</details>

---

## 📁 Project structure

```
stringui/
├── include/
│   └── StringUI.hpp
├── src/
│   ├── StringUI.cpp
│   └── main.cpp
├── build/            # autogenerated
├── Makefile
└── README.md
```

---

## 📦 Dependencies

- [`libunistring`](https://www.gnu.org/software/libunistring/) ≥ 1.1
- Any **C++17** compiler (`clang++`, `g++`, …)

---

## 👤 Author

Made with ❤️ by [@guillaumeast](https://github.com/guillaumeast)
